<ion-view view-title="Agen Data">
  <!-- Center content -->
  <ion-nav-bar class="bar-energized" >
    <ion-nav-buttons side="left">
       <button class="button button-icon button-clear ion-navicon" ng-click="toggleLeft()"></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-icon button-clear ion-ios7-search" ng-click="showSearchBox('muncul')"></button>
        <button class="button button-icon button-clear ion-plus" ng-click="showTambahEditDialog('Tambah')"></button>  
    </ion-nav-buttons>
  </ion-nav-bar>
  <div class="bar-subheader item-divider item-input-inset" ng-show="cariAksi === 'muncul'">
    <ion-header-bar>
      <span class="item-input-wrapper">
          <i class="icon ion-ios7-search placeholder-icon"></i>
          <input type="search" placeholder="cari" ng-model="agens.searchQuery">
          <i class="clear-search icon ion-ios7-close-empty" ng-show="agens.searchQuery.length" ng-click="clearCari()"></i>
        </span>
        <button class="button button-clear" ng-click="closeSearch()">
          Keluar
        </button>
    </ion-header-bar>
  </div>
  <ion-content>
    <ion-refresher on-refresh="refreshAgen()" refreshing-icon="ion-loading-c"></ion-refresher>
    <div ng-if="agens.length === 0" class="padding">
      <h1>Agen Anda Kosong?</h1>
      <p>Tambahkan dengan tools <i class="icon ion-plus"></i></p>
    </div>
  	<ion-list ng-if="agens.length >0" >
       <label class="item item-divider">
          Agen Bus ({{agenBus.length}})
       </label>
       <ion-item class="item-icon-right" ng-repeat="agen in agenBus | filter:agens.searchQuery" type="item-text-wrap" href="#/menu/agen/{{agen.id_agen}}">
      	    <h2 class="title">{{agen.nama_agen}}</h2>
            <p>{{agen.alamat_agen}}</p>
      	    <i class="icon ion-chevron-right icon-accessory"></i>
            <ion-option-button class="button-energized"ng-click="editData(agen)">EDIT</ion-option-button>
            <ion-option-button class="button-assertive" ng-click="removeData(agen)">HAPUS</ion-option-button>
        </ion-item>
        <label class="item item-divider">
          Agen Travel ({{agenTravel.length}})
        </label>
        <ion-item class="item-icon-right" ng-repeat="agen in agenTravel | filter:agens.searchQuery" type="item-text-wrap" href="#/menu/agen/{{agen.id_agen}}">
            <h2 class="title">{{agen.nama_agen}}</h2>
            <p>{{agen.alamat_agen}}</p>
            <i class="icon ion-chevron-right icon-accessory"></i>
             <ion-option-button class="button-energized"ng-click="editData(agen)">EDIT</ion-option-button>
            <ion-option-button class="button-assertive" ng-click="removeData(agen)">HAPUS</ion-option-button>
        </ion-item>
    </ion-list>
  </ion-content>
</ion-view>